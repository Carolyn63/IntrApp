<h4 class="title"><%= t("views.titles.ent_user_form_step_1")%></h4>
<% logger.info "-=-=-=-=-=-=-=-=-=-=--=-=-=-------=====--------------@title--------------#{@title}" %>
<table cellspacing="10" style="width:650px;" >
	<tr>
		<td><span style="float:left"> <%= f.label :label_loginName, t("views.labels.loginName"), :class => :label %></span><span style="font-weight:bold;color:red;padding-left:5px;">*</span></td>
		<td><%= f.text_field :loginName ,:size=>"17px;", :class=>:text_border ,:value=>@loginName, :readonly => 'true'%><div id="login_error" style="display:none;color:red;"></div></td>
		<td><span style="float:left"><%= f.label :label_emailId, t("views.labels.emailId"), :class => :label%></span><span style="font-weight:bold;color:red;padding-left:5px;">*</span></td>
		<td><%= f.text_field :emailId ,:size=>"17px;", :class=>:text_border, :value=>@emailId %><div id="email_error" style="display:none;color:red;"></div></td>
	</tr>
	<!--<%unless @for_update%>
	<tr>
		<td><span style="float:left"><%= f.label :label_password, t("views.labels.password"), :class => :label%></span><span style="font-weight:bold;color:red;padding-left:5px;">*</span></td>
		<td><%= f.password_field :password,:size=>"17px;" , :class=>:text_border, :value=>@password %><div id="p1_error" style="display:none;color:red;"></div></td>
		<td><span style="float:left"><%= f.label :label_repassword, t("views.labels.re_password"), :class => :label%></span><span style="font-weight:bold;color:red;padding-left:5px;">*</span></td>
		<td><%= f.password_field :repassword,:size=>"17px;", :class=>:text_border, :value=>@repassword  %><div id="p2_error" style="display:none;color:red;"></div></td>
	</tr>!-->
	<%end%>
	<tr>
		<td><%= f.label :label_firstName, t("views.labels.firstName"), :class => :label %></td>
		<td><%= f.text_field :firstName ,:size=>"17px;", :class=>:text_border ,:value=>@firstName, :readonly => 'true' %></td>
		<td><%= f.label :label_lastName, t("views.labels.lastName"), :class => :label %></td>
		<td><%= f.text_field :lastName ,:size=>"17px;", :class=>:text_border ,:value=>@lastName, :readonly => 'true'  %></td>
	</tr>
	<tr>
		<td style="width:150px;"><%= f.label :label_title, t("views.labels.title"), :class => :label %></td>
		<td><%= f.select :title, user_title, :selected=>@title %></td>
		<td><%= f.label :label_alias, t("views.labels.alias"), :class => :label %></td>
		<td><%= f.text_field :alias,:size=>"17px;", :class=>:text_border,:value=>@alias%></td>				
	</tr>
	<tr>
		<td><%= f.label :label_workPhone, t("views.labels.workPhone"), :class => :label %></td>
		<td><%= f.text_field :workPhone ,:size=>"17px;", :class=>:text_border,:value=>@workPhone%><div id="wphone_error" style="display:none;color:red;"></div></td>
		<td><span style="float:left"><%= f.label :label_workExtension, t("views.labels.workExtension"), :class => :label %> </span></td>
		<td><%= f.text_field :workExtension,:size=>"17px;" , :class=>:text_border ,:value=>@workExtension, :readonly => 'true'%></td>
	</tr>
	<tr>
		<td><%= f.label :label_cellNumber, t("views.labels.cellNumber"), :class => :label %></td>
		<td><%= f.text_field :cellNumber ,:size=>"17px;", :class=>:text_border ,:value=>@cellNumber %><div id="cphone_error" style="display:none;color:red;"></div></td>
		<td><%= f.label :label_faxNumber, t("views.labels.faxNumber"), :class => :label %></td>
		<td><%= f.text_field :faxNumber,:size=>"17px;", :class=>:text_border,:value=>@faxNumber  %><div id="fax_error" style="display:none;color:red;"></div></td>
	</tr>
	<tr>
		<td><%= f.label :label_homePhone, t("views.labels.homePhone"), :class => :label %></td>
		<td><%= f.text_field :homePhone,:size=>"17px;", :class=>:text_border  ,:value=>@homePhone %><div id="hphone_error" style="display:none;color:red;"></div></td>
	</tr>
	<tr>
		<td><%= f.label :label_featureSet, t("views.labels.featureSet"), :class => :label%></td>
		<td><%= f.radio_button :featureSet, "all", :checked => "checked", :class => "checkbox",:disabled => @for_update %> <label><%= t("views.labels.featureSet_all") %></label> <%= f.radio_button :featureSet, "none", :class => "checkbox" ,:disabled => @for_update%> <label ><%= t("views.labels.featureSet_none") %></label></td>
		<td><%= f.label :label_activeStatus, t("views.labels.activeStatus"), :class => :label %></td>
		<td><%= f.check_box :activeStatus, :checked => "checked", :class => "checkbox" %></td>
	</tr>
	<tr>
		<td><%= f.label :label_language, t("views.labels.language"), :class => :label %></td>
		<td><%= f.select :language, enterprise_language, :selected => @language %></td>		
		<td><%= f.label :label_locale, t("views.labels.locale"), :class => :label %></td>
		<td><%= f.select :locale, enterprise_locale, :selected => @locale %></td>
	</tr>
	<tr>
		<td><%= f.label :label_addressLine1, t("views.labels.addressLine1"), :class => :label %></td>
		<td colspan="3"><%= f.text_field :addressLine1 ,:style=> "width:450px;", :class=>:text_border ,:value=>@addressLine1%><div id="a1_error" style="display:none;color:red;"></div></td>
	</tr>
	<tr>
		<td><%= f.label :label_addressLine2, t("views.labels.addressLine2"), :class => :label %></td>
		<td colspan="3"><%= f.text_field :addressLine2 ,:style=> "width:450px;", :class=>:text_border ,:value=>@addressLine2%><div id="a2_error" style="display:none;color:red;"></div></td>
	</tr>
	<tr>
		<td><%= f.label :label_city, t("views.labels.city"), :class => :label %></td>
		<td><%= f.text_field :city,:size=>"17px;", :class=>:text_border ,:value=>@city%></td>
		<td><%= f.label :label_state, t("views.labels.state"), :class => :label %></td>
		<td><%= f.text_field :state,:size=>"17px;", :class=>:text_border ,:value=>@state %></td>
	</tr>
	<tr>
		<td><%= f.label :label_zipCode, t("views.labels.zipCode"), :class => :label %></td>
		<td><%= f.text_field :zipCode,:size=>"17px;", :class=>:text_border ,:value=>@zipCode%></td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td><%= f.label :label_country, t("views.labels.country"), :class => :label %></td>
		<td colspan="3"><%= f.select :country, enterprise_countries, :selected => @country %></td>
	</tr>
	<tr>
		<td><%= f.label :label_timezone, t("views.labels.timezone"), :class => :label %></td>
		<td colspan="3"><%= f.select :timezone, time_zones, :selected => @timezone %></td>
	</tr>
</table>
<div class="group navform wat-cf">
	<%= submit_tag t("views.buttons.next"), :class => "submit_next" %>
	<%= submit_tag t("views.buttons.finish"), :class => "submit_finish" %>
	<%= submit_tag t("views.buttons.cancel"), :class => "submit_cancel" %>
</div>

<style>
.submit_next {
	background-image: url('/images/web-app-theme/next.png');
	background-repeat: no-repeat;
	background-position: left center;
	width: 100px;
	height: 27px;
	font-weight: bold;
	font-size: 16em;
}
.submit_finish {
	background-image: url('/images/web-app-theme/tick.png');
	background-repeat: no-repeat;
	background-position: left center;
	width: 100px;
	height: 27px;
	font-weight: bold;
	font-size: 16px;
}
.submit_cancel {
	background-image: url('/images/web-app-theme/cross.png');
	background-repeat: no-repeat;
	background-position: left center;
	width: 100px;
	height: 27px;
	font-weight: bold;
	font-size: 16px;
}
</style>

<script>
$(function() {
	$('input.submit_next, input.submit_finish').click(function() {
		$('div#login_error').hide();
		$('div#p1_error').hide();
		$('div#p2_error').hide();
		$('div#email_error').hide();
		//$('div#url_error').hide();
		$('div#wphone_error').hide();
		$('div#hphone_error').hide();
		$('div#cphone_error').hide();
		$('div#fax_error').hide();
		$('div#a1_error').hide();
		$('div#a2_error').hide();

		var flag = true;
		if($('input#user_loginName').val() == "") {
			$('div#login_error').html("Please enter a login name").show();
			flag = false;
		} else {
			if(($('input#user_loginName').val().length < 4) || ($('input#user_loginName').val().length > 12)) {
				$('div#login_error').html("Login name should be 4-12 characters").show();
				flag = false;
			}
			var filter = /^[a-zA-Z0-9\.\-\_]+$/;
			if(!filter.test($('input#user_loginName').val())) {
				$('div#login_error').html(' Login name only consist of alphanumeric characters, - and _').show();
				flag = false;
			}
		}
	<%if @for_update %>
		if($('input#user_password').val() != "") {
			if($('input#user_password').val().length < 4 || $('input#user_password').val().length > 12) {
				$('div#p1_error').html("Password should be 4-12 characters").show();
				flag = false;
			}

			var filter = /^[a-zA-Z0-9\-\_]+$/;
			if(!filter.test($('input#user_password').val())) {
				$('div#p1_error').html('Password only consist of alphanumeric characters, - and _').show();
				flag = false;
			}

			if($('input#user_repassword').val() == "") {
				$('div#p2_error').html("Please enter a confirm password").show();
				flag = false;
			}

			if($('input#user_password').val() != $('input#user_repassword').val()) {
				$('div#p1_error').html("Passwords do not match").show();
				flag = false;
			}
		}
	<%else%>
		if($('input#user_password').val() == "") {
			$('div#p1_error').html("Please enter a password").show();
			flag = false;
		} else {
			if($('input#user_password').val().length < 4 || $('input#user_password').val().length > 12) {
				$('div#p1_error').html("Password should be 4-12 characters").show();
				flag = false;
			}

			var filter = /^[a-zA-Z0-9\-\_]+$/;
			if(!filter.test($('input#user_password').val())) {
				$('div#p1_error').html('Password only consist of alphanumeric characters, - and _').show();
				flag = false;
			}
		}

		if($('input#user_repassword').val() == "") {
			$('div#p2_error').html("Please enter a confirm password").show();
			flag = false;
		}

		if($('input#user_password').val() != $('input#user_repassword').val()) {
			$('div#p1_error').html("Passwords do not match").show();
			flag = false;
		}
	<%end%>
		if($('input#user_emailId').val() == "") {
			$('div#email_error').html("Please enter an email").show();
			flag = false;
		} else {
			var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			if(!filter.test($('input#user_emailId').val())) {
				$('div#email_error').html('Email address is not valid').show();
				flag = false;
			}
		}

		if($('input#user_workPhone').val() != "") {
			var filter = /^(\+)?[0-9\-\s]+$/;
			if(!filter.test($('input#user_workPhone').val())) {
				$('div#wphone_error').html('Work phone number is not valid').show();
				flag = false;
			}
		}

		if($('input#user_homePhone').val() != "") {
			var filter = /^(\+)?[0-9\-\s]+$/;
			if(!filter.test($('input#user_homePhone').val())) {
				$('div#hphone_error').html('Home phone number is not valid').show();
				flag = false;
			}
		}

		if($('input#user_cellNumber').val() != "") {
			var filter = /^(\+)?[0-9\-\s]+$/;
			if(!filter.test($('input#user_cellNumber').val())) {
				$('div#cphone_error').html('Cell phone number is not valid').show();
				flag = false;
			}
		}

		if($('input#user_faxNumber').val() != "") {
			var filter = /^(\+)?[0-9\-\s]+$/;
			if(!filter.test($('input#user_faxNumber').val())) {
				$('div#fax_error').html('Fax number is not valid').show();
				flag = false;
			}
		}

		
		if($('input#user_addressLine1').val() != "") {
			if($('input#user_addressLine1').val().length > 31) {
				$('div#a1_error').html('Address is too long. It should be less than 30 characters').show();
				flag = false;
			}
		}
		if($('input#user_addressLine2').val() != "") {
			if($('input#user_addressLine2').val().length > 31) {
				$('div#a2_error').html('Address is too long. It should be less than 30 characters').show();
				flag = false;
			}
		}

		// if($('input#url').val() == "") {
		// $('div#url_error').html("Please enter url.").show();
		// flag = false;
		// } else {
		// var filter = /^(https?:\/\/)?([\da-zA-Z\.-]+)\.([a-zA-Z\.]{2,6})([\/\w \.-]*)*\/?$/;
		// //var filter = /^((ftp|http|https):\/\/)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;
		// if(!filter.test($('input#url').val())) {
		// $('div#url_error').html('Please provide a valid url').show();
		// flag = false;
		// }
		// }

		return flag;
		});
		});
</script>

<%= hidden_field("geographicDetails", "uid", :value=>@geographic_details_uid)%>
<%= hidden_field("enterpriseContacts", "uid", :value=>@enterpriseContacts_uid)%> 